from pathlib import Path
import re

path = Path(r"d:\python\crawler-app\frontend\src\pages\UsersPage.tsx")
text = path.read_text(encoding="utf-8", errors="ignore")

replacements = {
    "пїЅпїЅпїЅпїЅпїЅпїЅпїЅпїЅпїЅпїЅпїЅпїЅ": "Пользователи",
    "пїЅпїЅпїЅ": "Все",
    "пїЅпїЅпїЅпїЅпїЅпїЅпїЅпїЅпїЅпїЅпїЅ": "Запросившие",
    "пїЅпїЅпїЅпїЅпїЅпїЅпїЅпїЅ": "Активные",
    "пїЅпїЅпїЅпїЅпїЅпїЅпїЅпїЅпїЅ": "Удаленные",
    "пїЅпїЅпїЅпїЅпїЅ пїЅпїЅ email": "Поиск по email",
    "пїЅпїЅпїЅпїЅпїЅ": "Найти",
    "пїЅпїЅпїЅпїЅпїЅпїЅпїЅпїЅпїЅпїЅ пїЅпїЅпїЅпїЅпїЅпїЅпїЅпїЅ": "Показывать удалённых",
    "пїЅпїЅпїЅпїЅпїЅпїЅпїЅпїЅпїЅпїЅ: id": "Сортировка: id",
    "пїЅпїЅпїЅпїЅпїЅпїЅпїЅпїЅпїЅпїЅ: email": "Сортировка: email",
    "пїЅпїЅпїЅпїЅпїЅпїЅпїЅпїЅпїЅпїЅ: role": "Сортировка: role",
    "пїЅпїЅ пїЅпїЅпїЅпїЅпїЅпїЅпїЅпїЅпїЅпїЅпїЅ": "По возрастанию",
    "пїЅпїЅ пїЅпїЅпїЅпїЅпїЅпїЅпїЅпїЅ": "По убыванию",
    "пїЅпїЅпїЅпїЅпїЅпїЅпїЅ пїЅпїЅпїЅпїЅ пїЅпїЅпїЅпїЅпїЅпїЅпїЅпїЅпїЅпїЅпїЅпїЅпїЅ пїЅ пїЅпїЅпїЅпїЅпїЅпїЅпїЅ пїЅпїЅпїЅпїЅпїЅпїЅ": "Выбрать всех пользователей в текущем списке",
    "пїЅпїЅпїЅпїЅпїЅпїЅ пїЅпїЅпїЅпїЅпїЅпїЅпїЅпїЅпїЅпїЅпїЅпїЅпїЅ": "Список пользователей",
    "пїЅпїЅпїЅпїЅпїЅпїЅпїЅ: ": "Выбрано: ",
    "пїЅпїЅпїЅпїЅпїЅ пїЅпїЅпїЅпїЅпїЅпїЅ": "новый запрос",
    "пїЅпїЅпїЅпїЅпїЅпїЅпїЅпїЅ пїЅпїЅпїЅпїЅпїЅпїЅпїЅ": "Политика доверия",
    "пїЅпїЅпїЅпїЅпїЅпїЅ:": "сессия:",
    "пїЅ IP:": " • IP:",
    "пїЅ ": " • ",
    "пїЅпїЅпїЅпїЅпїЅпїЅпїЅпїЅпїЅпїЅ:": "устройств:",
    "пїЅпїЅпїЅпїЅпїЅпїЅпїЅпїЅпїЅ пїЅпїЅпїЅпїЅпїЅпїЅпїЅпїЅпїЅпїЅ:": "последняя активность:",
    "пїЅпїЅпїЅпїЅпїЅпїЅпїЅпїЅпїЅ IP:": "последний IP:",
    "пїЅпїЅпїЅпїЅпїЅпїЅпїЅ": "Открыть",
    "пїЅпїЅпїЅпїЅпїЅпїЅпїЅпїЅпїЅпїЅпїЅпїЅ пїЅпїЅ пїЅпїЅпїЅпїЅпїЅпїЅпїЅ.": "Пользователи не найдены.",
    "пїЅпїЅпїЅпїЅпїЅпїЅпїЅпїЅ пїЅпїЅпїЅ пїЅпїЅпїЅпїЅпїЅпїЅпїЅпїЅпїЅ пїЅпїЅпїЅпїЅпїЅпїЅпїЅпїЅпїЅпїЅпїЅпїЅпїЅ": "Действия для выбранных пользователей",
    "пїЅпїЅпїЅпїЅпїЅпїЅпїЅ пїЅпїЅпїЅпїЅпїЅпїЅпїЅпїЅ (пїЅпїЅпїЅпїЅпїЅпїЅпїЅпїЅпїЅпїЅпїЅпїЅпїЅ, пїЅпїЅ пїЅпїЅпїЅпїЅпїЅпїЅпїЅпїЅпїЅпїЅпїЅпїЅпїЅ)": "Причина действия (необязательно, но рекомендуется)",
    "пїЅпїЅпїЅпїЅпїЅпїЅпїЅ пїЅпїЅпїЅпїЅпїЅпїЅпїЅпїЅ пїЅпїЅпїЅпїЅпїЅпїЅпїЅпїЅпїЅпїЅпїЅпїЅпїЅ пїЅ пїЅпїЅпїЅпїЅпїЅпїЅ.": "Сначала выберите пользователей в списке.",
    "пїЅпїЅпїЅпїЅпїЅпїЅпїЅпїЅ пїЅпїЅпїЅпїЅпїЅпїЅпїЅпїЅпїЅ.": "Действие выполнено.",
}

for k, v in replacements.items():
    text = text.replace(k, v)

text = re.sub(
    r"const TRUST_HINTS:[\s\S]*?};",
    "const TRUST_HINTS: Record<TrustPolicy, string> = {\n  strict: \"Код при каждом входе.\",\n  standard: \"Доверие 30 дней.\",\n  extended: \"Доверие 90 дней.\",\n  permanent: \"Бессрочное доверие.\",\n};",
    text,
)

text = text.replace(
    "пїЅпїЅпїЅпїЅпїЅ пїЅпїЅпїЅпїЅпїЅпїЅпїЅпїЅпїЅпїЅ пїЅпїЅ пїЅпїЅпїЅпїЅпїЅпїЅпїЅпїЅ пїЅпїЅпїЅпїЅпїЅпїЅпїЅпїЅпїЅпїЅпїЅпїЅ",
    "Отзыв устройства из карточки пользователя",
)
text = text.replace(
    "пїЅпїЅпїЅпїЅпїЅ пїЅпїЅпїЅпїЅ пїЅпїЅпїЅпїЅпїЅпїЅпїЅпїЅпїЅпїЅ пїЅпїЅпїЅпїЅпїЅпїЅпїЅпїЅпїЅ, пїЅпїЅпїЅпїЅпїЅ пїЅпїЅпїЅпїЅпїЅпїЅпїЅпїЅпїЅпїЅ",
    "Отзыв всех доверенных устройств, кроме последнего",
)
text = text.replace(" ? ", " • ")

path.write_text(text, encoding="utf-8")
